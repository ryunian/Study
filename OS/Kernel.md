# Kernel

## OS

하드웨어를 관리하고, 응용 프로그램과 하드웨어 사이에서 인터페이스 역할을 하며 시스템의 동작을 제어하는 시스템 소프트웨어

<br><br>

## **커널**

운영체제는 하드웨어의 하드웨어 자원을 운영 관리하고 프로그램을 실행 할수 있는 환경을 제공하는 소프트웨어이다.

메모리에 상주하는 운영체제의 핵심부분을 커널이라고하며,  
하드웨어를 운영관리하여 프로세스, 파일, 메모리, 통신 , 주변장치 등을 관리하는 서비스를 제공한다.

<br><br>

### **1.1 커널이 제공하는 서비스**

- 프로세스 관리

    여러 개의 프로그램이 실행될 수 있도록 프로세스들을 CPU 스케줄링 하여 마치 동시에 여러 프로세스들이 수행되는 것처럼 해준다.

- 파일 관리

    디스크와 같은 저장장치 상에 파일 시스템을 구성하고 파일을 유지 관리한다.

- 메모리 관리

    메인 메모리가 효율적으로 사용될 수 있도록 관리한다.

- 통신관리

    네트워크를 통해 정보를 효과적으로 주고받을 수 있도록 관리한다.

- 주변장치 관리

    모니터, 키보드, 마우스와 같은 장치를 쉽고 편리하게 사용할 수 있도록 관리한다.

<br><br>

### **1.2 리눅스와 윈도우의 구조**

<img src="https://github.com/ryunian/Study/blob/master/image/kernel_Linux.png?raw=true" width="500px" height="400px">
<img src="https://github.com/ryunian/Study/blob/master/image/kernel_Win.png?raw=true" width="500px" height="400px">

쉘(shell)

> 사용자와 운영체제 사이의 인터페이스를 제공하는 특수 소프트웨어로, 사용자로부터 명령어를 입력받아 그 명령어를 해석하여 수행해주는 명령어 해석기이다.

<br><br>

### **1.3 커널모드와 사용자 모드**

- 커널모드

    > 운영체제가 CPU의 제어권을 가지고 운영체제 코드를 실행하는 모드로서,이 모드에서는 모든 종류의 명령을 다 실행할 수 있다.

- 사용자모드

    > 일반 사용자 프로그램이 실행되며 제한적인 명령만을 수행할 수 있다.하드웨어 접근 등 보안이 필요한 명령을 수행해야 할 경우 시스템 콜(System call)을 통해 운영체제가 대신해줄 것을 요청한다.

<br><br>

### **1.4 운영체제는 왜 두가지 모드를 지원하는가?**

- 하드웨어적인 보안을 유지하기 위함이다.
- 시스템에 중요한 영향을 미치는 연산은 커널모드에서만 실행 가능하도록 함으로써 하드웨어의 보안을 유지하는 것이다.
- 사용자 프로그램이 CPU를 가지고 있는 동안 자신의 코드를 실행시키지 못하게 하는 방법(하드웨어적)으로  
    CPU 내부에 모드비트(mode bit)를 두어 사용자 프로그램을 감시하게 된다.

    
    모드비트 0 : 커널모드로서 모든 명령을 수행할 수 있다. (인터럽트 발생 시, 모드비트는 항상 0임)  
    모드비트 1 : 사용자모드로서 제한된 명령만을 수행할 수 있다.`